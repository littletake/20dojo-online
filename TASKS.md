# 課題内容
## 基礎課題
<p>
API仕様書に記載されている機能を実装してください。<br>
まずはフレームワークは利用せずに標準パッケージのnet/httpやdatabase/sqlを利用して実装をしていきます。
</p>

SwaggerEditor: <https://editor.swagger.io> <br>
API仕様定義ファイル: `./api-document.yaml`

## 発展課題
基礎課題ができたら各人で挑戦する工夫を考え実践していきましょう。<br>
それぞれ例をあげますので参考にしてみてください。

### フレームワークやライブラリの導入
- echoやginといったWebフレームワークを導入してみる
- データベースのアクセスにORMapperを導入してみる

### APIの内部的な改修
- ランキングを同率順位を考慮したものにしてみる
- 各設定値をデータベースで管理するようにしてみる

### 負荷試験と計測
- 負荷試験ツールを利用して実際に負荷をかけてみる。
- コレクションアイテムやガチャのデータを数万件に増やしてみてボトルネックの調査やパフォーマンスチューニングをしてみる。
- pprof等、計測のツールを利用してボトルネックの調査やパフォーマンスチューニングをしてみる。

### 課題解決 
- 誰がどんなアクセスをしてきたかわからない(調査やロギングの課題)<br>
 -> 各APIがコールされた時にリクエストやレスポンスのログがサーバ上に出力されるようにしてみる
 
- コレクションアイテムやガチャといった不変なデータ(マスタデータ)を毎回DBから取得している(パフォーマンスの課題)<br>
 -> 不変なデータ(マスタデータ)をメモリキャッシュしてみる
 
- 実装のテストコードがない(品質の課題)<br>
 -> ユニットテストのコードを追加してみる。ただしユニットテストの際のテストデータやDBアクセスをどうするか意識すること。
 
- アプリケーションの処理の役割や依存関係が整理されていない(アーキテクチャの課題)<br>
 -> 「レイヤードアーキテクチャ」「クリーンアーキテクチャ」等で調べ、全体のパッケージ構成や依存を整理してみる。

- DBの操作に失敗することを考慮していない（データ整合性の課題）<br>
 -> 一連の処理の流れで複数回DBにアクセスする際に、処理に失敗したり、一連の処理とは別の処理によってDB内のデータが更新されるとデータ整合性が崩れる場合があるので、トランザクションが必要な部分を見極め、しっかりとトランザクション制御する。
